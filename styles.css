:root{
  --bg:#fff;
  --text:#111;
  --muted:#666;
  --rule:#e9e9e9;
  --active:#b00020;
  --max:1200px;
  --navW:420px; /* slightly wider since it includes inline project lists */
}

*{ box-sizing:border-box; }
html,body{ height:100%; }

body{
  margin:0;
  font:14px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  color:var(--text);
  background:var(--bg);
}

.layout{
  max-width:var(--max);
  margin:0 auto;
  min-height:100vh;
  display:grid;
  grid-template-columns: var(--navW) 1fr;
}

.nav{
  border-right:1px solid var(--rule);
  padding:18px;
  position:sticky;
  top:0;
  height:100vh;
  overflow:auto;
}

.brand{ margin-bottom:18px; }

.brandLink{
  text-decoration:none;
  color:var(--text);
  font-weight:600;
}

.categoryList{
  display:flex;
  flex-direction:column;
  gap:12px;
}

.categoryRow{
  display:grid;
  grid-template-columns: 160px 1fr; /* category label + inline project list */
  gap:12px;
  padding:10px 0;
  border-top:1px solid var(--rule);
}

.categoryBtn{
  appearance:none;
  background:none;
  border:0;
  padding:0;
  text-align:left;
  font:inherit;
  font-weight:600;
  cursor:pointer;
  color:var(--text);

  transition: color 120ms ease-out, transform 80ms ease-out;
}

.categoryBtn[aria-expanded="true"]{
  color:var(--active);
}

.categoryBtn:active{
  transform: translateY(1px);
}

/* Project list disclosure (animatable; do NOT use display:none) */
.projectList{
  margin:0;
  padding:0;
  list-style:none;

  display:flex;
  flex-direction:column;
  gap:6px;

  overflow:hidden;

  max-height:0;
  opacity:0;
  transform: translateY(-2px);

  transition:
    max-height 180ms cubic-bezier(0.2, 0.8, 0.2, 1),
    opacity    140ms ease-out,
    transform  180ms ease-out;

  will-change: max-height, opacity, transform;
}

.projectList[data-open="true"]{
  max-height: 520px; /* increase if any category list is longer */
  opacity:1;
  transform: translateY(0);
}

.projectLink{
  color:var(--text);
  text-decoration:none;
  transition: color 120ms ease-out, transform 120ms ease-out;
}

.projectLink:hover{ text-decoration:underline; }

.projectLink[aria-current="true"]{
  color:var(--active);
  font-weight:600;
  transform: translateX(2px); /* tiny nudge, restrained */
}

.detail{
  padding:22px 22px 60px;
  overflow:auto;
}

.detailEmpty{
  color:var(--muted);
  padding-top:6px;
}

.detailCard{
  border-top:1px solid var(--rule);
  padding-top:16px;
}

.detailTitle{
  margin:0 0 8px;
  font-size:20px;
  font-weight:600;
}

.detailMeta{
  color:var(--muted);
  margin:0 0 14px;
}

.mediaFrame{
  width:100%;
  aspect-ratio:16/9;
  border:0;
  background:#000;
}

.mediaImg{
  width:100%;
  height:auto;
  display:block;
}

/* Detail enter animation */
.detailInnerEnter{
  animation: detailIn 160ms ease-out;
}

@keyframes detailIn{
  from { opacity:0; transform: translateY(6px); }
  to   { opacity:1; transform: translateY(0); }
}

/* Responsive */
@media (max-width: 900px){
  .layout{ grid-template-columns: 1fr; }

  .nav{
